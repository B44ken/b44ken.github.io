<!-- Generated with Pug - pugjs.org -->

<style>
@import url('https://fonts.googleapis.com/css?family=Montserrat');

* { font-family: Montserrat }

body {
	margin: 0;
	width: 100vw;
	height: 100vh;
	display: flex;
	justify-content: center;
	align-items: center;
}
.container {
	text-align: center;
	padding: 20px;
	border-radius: 4px;
	box-shadow: 5px 5px 3px #444;
	width: 300px;
	height: 230px;
	background: #29B6F6;
}
</style>

<div class="container">
  <style class="uicontrol">.ui{opacity:1}</style>
  <h1 class="ui">Sound Bomb</h1>
  <h3 class="ui">Choose Song:</h3>
  <select class="song">
    <option value="africa">Toto - Africa</option>
    <option value="cellsong">Carlo Desantis - Cell Song </option>
    <option value="minecraftrap">BrySi - Minecraft Rap</option>
  </select><br/>
  <button class="start">Start timer (30 seconds)</button>
  <h1 class="time">30</h1>
</div>

<script>
let $ = ( e ) => document.querySelector(e)

let hideUi = () => {
	if ($('.hideui').checked) $('.uicontrol').innerHTML = '.ui{opacity: 0}'
	else $('.uicontrol').innerHTML = '.ui{opacity: 1}'
}

let playSong = () => {
	let path = 
`http://someonekill.me/soundbomb/songs/${$('.song').value}.mp3`
	let audio = new Audio(path)
	audio.play()
}

$('.start').addEventListener('click', () => {
	let time = 30
	let played = false
	setInterval(() => {
		time--
		$('.time').textContent = time
		if(time < 1) {
			time++
			if(played == false) {
				playSong()
				played = true
			}
		}
	}, 1000)
})
</script>
